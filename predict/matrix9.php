<?php

# Directionals from ADRB2.pepd:
$direction =
[
	'TMR1' => [   8.263918, -19.060575, -50.507103,  18.293468,  -6.563872, -46.488014,  30.675602,   6.282748, -41.314518 ],
	'TMR2' => [  23.389767,   6.633891, -36.311722,  19.048141,  -8.853634, -38.454079,   8.040357, -21.497700, -40.277676 ],
	'TMR3' => [  15.359751, -16.429365, -23.026138,  14.914004,  -0.272325, -26.463764,  17.880106,  16.153008, -27.715729 ],
	'TMR4' => [  30.782925,   7.576763, -27.147732,  20.556980,  -3.698730, -21.067917,   8.355530, -10.646457, -16.818790 ],
	'TMR5' => [   0.458104,  -7.298905, -16.690619,   9.162039,   2.714896, -25.431005,   8.801460,  19.066465, -32.984921 ],
	'TMR6' => [  16.258125,  12.456451, -39.207165,   6.404618,  -0.001935, -33.592453,  -6.949420,  -3.790924, -20.340841 ],
	'TMR7' => [  -1.531639, -13.724276, -35.813442,  11.210663,  -4.967570, -40.788719,  21.737379,  12.525408, -48.000065 ],
];

# Activation matrix from ADRB2.pepd:
$matrix =
[
	'TMR1' => [ -0.539708,  3.994157,  1.625542, -0.304388,  1.514570, -0.334553, -0.191326, -3.177804, -0.277470 ],
	'TMR2' => [  0.639023, -2.320034,  1.894012, -0.285734,  0.784570, -0.458035,  1.514882,  1.768049,  1.560543 ],
	'TMR3' => [  0.294045,  1.485953, -3.311296, -0.357025, -0.460466, -0.599346, -0.077387, -3.315787, -2.620182 ],
	'TMR4' => [ -3.645325, -0.157720,  3.096836, -0.909857, -0.580977, -0.095592,  3.356684, -2.560075,  1.447403 ],
	'TMR5' => [  3.329328,  1.268617, -1.130465, -0.695048,  0.348531, -1.619858,  0.430631, -0.700092,  2.359522 ],
	'TMR6' => [ -6.829110,  0.658650, -2.010139, -0.280183,  0.955604, -0.613094,  2.981014, -2.436768, -3.073505 ],
	'TMR7' => [  1.641165,  2.943015,  0.602985,  0.019993,  1.663406, -0.248486, -0.091677, -1.675404,  3.805168 ],
];


// TMR5 and TMR3 are being pulled too far apart.
// Both helices are descending, i.e. the N-terminus is towards the extracellular region.
if (0)
{
	$dir53  = 
	[
		$direction['TMR5'][0] - $direction['TMR3'][0],
		$direction['TMR5'][1] - $direction['TMR3'][1],
		$direction['TMR5'][2] - $direction['TMR3'][2],
	];

	$decrease = 0.25;

	for ($i=0; $i<2; $i++)
	{
		$matrix['TMR5'][$i] -= ($decrease/2) * $dir53[$i];
		$matrix['TMR3'][$i] += ($decrease/2) * $dir53[$i];
	}
}
